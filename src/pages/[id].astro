---
import Layout from '@/layouts/Layout.astro';
export async function getStaticPaths() {
  const response = await fetch(
    `https://${import.meta.env.MICROCMS_SERVICE_DOMAIN}.microcms.io/api/v1/blog`,
    {
      headers: { "X-MICROCMS-API-KEY": import.meta.env.MICROCMS_API_KEY },
    }
  );
  const data = await response.json();
  return data.contents.map((post: any) => ({
    params: { id: post.id },
    props: { post },
  }));
}
const { post } = Astro.props;
---
<Layout title={post.title}>
  <main style="padding: 20px;">
    <h1>{post.title}</h1>
    <hr />
    <div set:html={post.content} style="line-height: 1.8;" />
    <br />
    <a href="/">← 記事一覧に戻る</a>
  </main>
</Layout>
