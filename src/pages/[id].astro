---
export async function getStaticPaths() {
  const response = await fetch(
    `https://${import.meta.env.MICROCMS_SERVICE_DOMAIN}.microcms.io/api/v1/blog`,
    {
      headers: { "X-MICROCMS-API-KEY": import.meta.env.MICROCMS_API_KEY },
    }
  );
  const data = await response.json();
  return data.contents.map((post: any) => ({
    params: { id: post.id },
    props: { post },
  }));
}
const { post } = Astro.props;
---
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <title>{post.title}</title>
  </head>
  <body style="font-family: sans-serif; padding: 20px; max-width: 800px; margin: 0 auto; line-height: 1.8;">
    <a href="/" style="color: #0070f3; text-decoration: none;">← 記事一覧に戻る</a>
    <h1 style="margin-top: 20px; border-bottom: 2px solid #333; padding-bottom: 10px;">{post.title}</h1>
    {/* ↓ 記事の本分を表示します */}
    <div style="margin-top: 20px;" set:html={post.content} />
  </body>
</html>
