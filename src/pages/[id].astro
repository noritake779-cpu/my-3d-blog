---
export async function getStaticPaths() {
  const response = await fetch(
    `https://${import.meta.env.MICROCMS_SERVICE_DOMAIN}.microcms.io/api/v1/blog`,
    {
      headers: { "X-MICROCMS-API-KEY": import.meta.env.MICROCMS_API_KEY },
    }
  );
  const data = await response.json();
  return data.contents.map((post: any) => ({
    params: { id: post.id },
    props: { post },
  }));
}
const { post } = Astro.props;
---
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{post.title}</title>
  </head>
  <body style="font-family: sans-serif; padding: 20px; max-width: 800px; margin: 0 auto; line-height: 1.8; color: #333; background-color: #fff;">
    <nav style="margin-bottom: 40px;">
      <a href="/" style="color: #0070f3; text-decoration: none; font-weight: bold;">← 記事一覧に戻る</a>
    </nav>
    <article>
      <h1 style="font-size: 2.2rem; border-bottom: 2px solid #eee; padding-bottom: 20px; margin-bottom: 30px;">{post.title}</h1>
      <div style="font-size: 1.1rem;" set:html={post.content} />
    </article>
  </body>
</html>
