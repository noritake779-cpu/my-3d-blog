---
import Layout from '../layouts/Layout.astro';
// microCMSからデータを取得する設定
const response = await fetch(
  `https://${import.meta.env.MICROCMS_SERVICE_DOMAIN}.microcms.io/api/v1/blog`,
  {
    headers: {
      "X-MICROCMS-API-KEY": import.meta.env.MICROCMS_API_KEY,
    },
  }
);
const data = await response.json();
---

<Layout title="マイブログ">
	<main>
		<h1>記事一覧</h1>
		<ul>
			{data.contents.map((post: any) => (
				<li>
					<a href={`/blog/${post.id}`}>
						{post.title}
					</a>
				</li>
			))}
		</ul>
	</main>
</Layout>
